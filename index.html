<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>PV-Dach-Planer (Basisversion)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>PV-Dach-Planer (Basisversion)</h1>

  <div class="controls">
    <!-- Datei + Reset -->
    <div class="control-row">
      <span class="label">Dachfoto wählen:</span>
      <input type="file" id="fileInput" accept="image/*" />
      <button id="resetBtn">Fläche zurücksetzen</button>
      <span>Punkte: <span id="pointCount">0</span></span>
    </div>

    <!-- Referenz / Dachhaut -->
    <div class="control-row">
      <strong>Referenz / Dachhaut</strong>
    </div>
    <div class="control-row">
      <span class="label">Dachhaut:</span>
      <select id="dachtyp">
        <option value="">Bitte wählen ...</option>
        <option value="einfalz">Einfalzziegel 21,5 x 33 cm</option>
        <option value="doppelfalz">Doppelfalzziegel / Betonstein 30 x 33 cm</option>
        <option value="jumbo">Jumbo 25 x 36 cm</option>
      </select>

      <span class="label">Ziegel Traufe (Anzahl):</span>
      <input id="ziegelTraufe" type="number" min="1" value="30" />

      <span class="label">Ziegel Ortgang (Anzahl):</span>
      <input id="ziegelOrtgang" type="number" min="1" value="15" />

      <span id="measureInfo">Traufe: – m, Ortgang: – m, Fläche: – m²</span>
    </div>

    <!-- Module -->
    <div class="control-row">
      <strong>Generatorfläche / Module</strong>
    </div>
    <div class="control-row">
      <span class="label">Ausrichtung:</span>
      <select id="ausrichtung">
        <option value="vertikal">vertikal</option>
        <option value="horizontal">horizontal</option>
      </select>

      <span class="label">Transparenz:</span>
      <input
        id="modOpacity"
        type="range"
        min="0"
        max="1"
        step="0.05"
        value="0.6"
      />

      <button id="drawModulesBtn">Module einzeichnen</button>
      <button id="clearModulesBtn" disabled>Module löschen</button>
    </div>

    <div class="control-row">
      <span id="moduleInfo">
        Modul: 1,765 x 1,134 m, Fuge 0,02 m, Rand 0,30 m
      </span>
    </div>
  </div>

  <!-- Bild + Canvas -->
  <div id="canvasWrapper">
    <img id="roofImage" alt="Dachfoto" />
    <canvas id="polygonCanvas"></canvas>
    <canvas id="moduleCanvas"></canvas>
  </div>

  <script src="script.js"></script>
</body>
</html>
